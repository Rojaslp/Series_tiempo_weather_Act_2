<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Analisis de series | Series de tiempo - Weather Long-term Time Series Forecasting (2020)</title>
  <meta name="description" content="Chapter 3 Analisis de series | Series de tiempo - Weather Long-term Time Series Forecasting (2020)" />
  <meta name="generator" content="bookdown 0.45 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Analisis de series | Series de tiempo - Weather Long-term Time Series Forecasting (2020)" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Analisis de series | Series de tiempo - Weather Long-term Time Series Forecasting (2020)" />
  
  
  

<meta name="author" content="Laura Rojas Prado - Sebastian Ortiz Florez" />


<meta name="date" content="2025-10-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lectura-bd.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Series de tiempo - Weather Long-term Time Series Forecasting (2020)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Base de datos</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#variables-a-trabajar"><i class="fa fa-check"></i><b>1.1</b> Variables a trabajar</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#justificaci%C3%B3n-de-la-selecci%C3%B3n-de-la-base-de-datos"><i class="fa fa-check"></i><b>1.2</b> Justificación de la selección de la base de datos</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="lectura-bd.html"><a href="lectura-bd.html"><i class="fa fa-check"></i><b>2</b> Lectura BD</a>
<ul>
<li class="chapter" data-level="2.1" data-path="lectura-bd.html"><a href="lectura-bd.html#librerias"><i class="fa fa-check"></i><b>2.1</b> Librerias</a></li>
<li class="chapter" data-level="2.2" data-path="lectura-bd.html"><a href="lectura-bd.html#exploraci%C3%B3n-de-la-base-de-datos"><i class="fa fa-check"></i><b>2.2</b> Exploración de la base de datos</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="lectura-bd.html"><a href="lectura-bd.html#estructura-del-dataset"><i class="fa fa-check"></i><b>2.2.1</b> Estructura del dataset</a></li>
<li class="chapter" data-level="2.2.2" data-path="lectura-bd.html"><a href="lectura-bd.html#an%C3%A1lisis-de-valores-faltantes"><i class="fa fa-check"></i><b>2.2.2</b> Análisis de valores faltantes</a></li>
<li class="chapter" data-level="2.2.3" data-path="lectura-bd.html"><a href="lectura-bd.html#estad%C3%ADsticos-descriptivos-por-variable"><i class="fa fa-check"></i><b>2.2.3</b> Estadísticos descriptivos por variable</a></li>
<li class="chapter" data-level="2.2.4" data-path="lectura-bd.html"><a href="lectura-bd.html#distribuci%C3%B3n-y-correlaciones"><i class="fa fa-check"></i><b>2.2.4</b> Distribución y correlaciones</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="analisis-de-series.html"><a href="analisis-de-series.html"><i class="fa fa-check"></i><b>3</b> Analisis de series</a>
<ul>
<li class="chapter" data-level="3.1" data-path="analisis-de-series.html"><a href="analisis-de-series.html#serie-original-diaria"><i class="fa fa-check"></i><b>3.1</b> Serie original (diaria)</a></li>
<li class="chapter" data-level="3.2" data-path="analisis-de-series.html"><a href="analisis-de-series.html#promedio-m%C3%B3vil-media-m%C3%B3vil-7-d%C3%ADas"><i class="fa fa-check"></i><b>3.2</b> Promedio móvil (Media Móvil 7 días)</a></li>
<li class="chapter" data-level="3.3" data-path="analisis-de-series.html"><a href="analisis-de-series.html#rezagos-lag-30-d%C3%ADas"><i class="fa fa-check"></i><b>3.3</b> Rezagos (Lag 30 días)</a></li>
<li class="chapter" data-level="3.4" data-path="analisis-de-series.html"><a href="analisis-de-series.html#descomposici%C3%B3n-estacional"><i class="fa fa-check"></i><b>3.4</b> Descomposición estacional</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Series de tiempo - Weather Long-term Time Series Forecasting (2020)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="analisis-de-series" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Analisis de series<a href="analisis-de-series.html#analisis-de-series" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<table>
<colgroup>
<col width="34%" />
<col width="65%" />
</colgroup>
<thead>
<tr class="header">
<th>Componente</th>
<th>Qué muestra</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Serie original</td>
<td>Evolución completa con ruido</td>
</tr>
<tr class="even">
<td>Promedio móvil</td>
<td>Suaviza la serie y revela la tendencia anual</td>
</tr>
<tr class="odd">
<td>Rezago</td>
<td>Muestra dependencia temporal (temperatura de hoy depende de la de ayer)</td>
</tr>
<tr class="even">
<td>Estacionalidad</td>
<td>Patrón repetitivo semanal en el clima</td>
</tr>
</tbody>
</table>
<div id="serie-original-diaria" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Serie original (diaria)<a href="analisis-de-series.html#serie-original-diaria" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="analisis-de-series.html#cb49-1" tabindex="-1"></a><span class="co"># Promediar por día (en caso de que haya datos horarios)</span></span>
<span id="cb49-2"><a href="analisis-de-series.html#cb49-2" tabindex="-1"></a>daily <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="analisis-de-series.html#cb49-3" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span></span>
<span id="cb49-4"><a href="analisis-de-series.html#cb49-4" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">T =</span> <span class="fu">mean</span>(T, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb49-5"><a href="analisis-de-series.html#cb49-5" tabindex="-1"></a></span>
<span id="cb49-6"><a href="analisis-de-series.html#cb49-6" tabindex="-1"></a><span class="co"># Convertir a serie temporal (frecuencia diaria)</span></span>
<span id="cb49-7"><a href="analisis-de-series.html#cb49-7" tabindex="-1"></a>ts_T <span class="ot">&lt;-</span> <span class="fu">ts</span>(daily<span class="sc">$</span>T, <span class="at">frequency =</span> <span class="dv">7</span>)  <span class="co"># 7 para capturar estacionalidad semanal</span></span></code></pre></div>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="analisis-de-series.html#cb50-1" tabindex="-1"></a><span class="co"># Gráfico de la serie original</span></span>
<span id="cb50-2"><a href="analisis-de-series.html#cb50-2" tabindex="-1"></a><span class="fu">autoplot</span>(ts_T) <span class="sc">+</span></span>
<span id="cb50-3"><a href="analisis-de-series.html#cb50-3" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Temperatura diaria&quot;</span>) <span class="sc">+</span></span>
<span id="cb50-4"><a href="analisis-de-series.html#cb50-4" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Tiempo - Semanas&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;Temperatura (°C)&quot;</span>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="promedio-móvil-media-móvil-7-días" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Promedio móvil (Media Móvil 7 días)<a href="analisis-de-series.html#promedio-m%C3%B3vil-media-m%C3%B3vil-7-d%C3%ADas" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="analisis-de-series.html#cb51-1" tabindex="-1"></a><span class="co"># Promedios móviles</span></span>
<span id="cb51-2"><a href="analisis-de-series.html#cb51-2" tabindex="-1"></a>daily<span class="sc">$</span>MA7 <span class="ot">&lt;-</span> <span class="fu">rollmean</span>(daily<span class="sc">$</span>T, <span class="at">k =</span> <span class="dv">7</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">align =</span> <span class="st">&quot;right&quot;</span>)</span>
<span id="cb51-3"><a href="analisis-de-series.html#cb51-3" tabindex="-1"></a>daily<span class="sc">$</span>MA30 <span class="ot">&lt;-</span> <span class="fu">rollmean</span>(daily<span class="sc">$</span>T, <span class="at">k =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">align =</span> <span class="st">&quot;right&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="analisis-de-series.html#cb52-1" tabindex="-1"></a><span class="fu">ggplot</span>(daily, <span class="fu">aes</span>(<span class="at">x =</span> date)) <span class="sc">+</span></span>
<span id="cb52-2"><a href="analisis-de-series.html#cb52-2" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> T, <span class="at">color =</span> <span class="st">&quot;Temperatura diaria&quot;</span>), <span class="at">size =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb52-3"><a href="analisis-de-series.html#cb52-3" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> MA7, <span class="at">color =</span> <span class="st">&quot;Media móvil 7 días&quot;</span>), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb52-4"><a href="analisis-de-series.html#cb52-4" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> MA30, <span class="at">color =</span> <span class="st">&quot;Media móvil 30 días&quot;</span>), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb52-5"><a href="analisis-de-series.html#cb52-5" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb52-6"><a href="analisis-de-series.html#cb52-6" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Temperatura con Promedios Móviles&quot;</span>,</span>
<span id="cb52-7"><a href="analisis-de-series.html#cb52-7" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Tiempo&quot;</span>,</span>
<span id="cb52-8"><a href="analisis-de-series.html#cb52-8" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Temperatura (°C)&quot;</span>,</span>
<span id="cb52-9"><a href="analisis-de-series.html#cb52-9" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;Leyenda&quot;</span></span>
<span id="cb52-10"><a href="analisis-de-series.html#cb52-10" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb52-11"><a href="analisis-de-series.html#cb52-11" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb52-12"><a href="analisis-de-series.html#cb52-12" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb52-13"><a href="analisis-de-series.html#cb52-13" tabindex="-1"></a>      <span class="st">&quot;Temperatura diaria&quot;</span> <span class="ot">=</span> <span class="st">&quot;orange&quot;</span>,</span>
<span id="cb52-14"><a href="analisis-de-series.html#cb52-14" tabindex="-1"></a>      <span class="st">&quot;Media móvil 7 días&quot;</span> <span class="ot">=</span> <span class="st">&quot;#4A90E2&quot;</span>,</span>
<span id="cb52-15"><a href="analisis-de-series.html#cb52-15" tabindex="-1"></a>      <span class="st">&quot;Media móvil 30 días&quot;</span> <span class="ot">=</span> <span class="st">&quot;#003366&quot;</span></span>
<span id="cb52-16"><a href="analisis-de-series.html#cb52-16" tabindex="-1"></a>    )</span>
<span id="cb52-17"><a href="analisis-de-series.html#cb52-17" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb52-18"><a href="analisis-de-series.html#cb52-18" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(</span>
<span id="cb52-19"><a href="analisis-de-series.html#cb52-19" tabindex="-1"></a>    <span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>,</span>
<span id="cb52-20"><a href="analisis-de-series.html#cb52-20" tabindex="-1"></a>    <span class="at">date_labels =</span> <span class="st">&quot;%b %Y&quot;</span></span>
<span id="cb52-21"><a href="analisis-de-series.html#cb52-21" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb52-22"><a href="analisis-de-series.html#cb52-22" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb52-23"><a href="analisis-de-series.html#cb52-23" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb52-24"><a href="analisis-de-series.html#cb52-24" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>),  <span class="co"># rotar etiquetas de fechas para mejor lectura</span></span>
<span id="cb52-25"><a href="analisis-de-series.html#cb52-25" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)  <span class="co"># centrar título y negrita</span></span>
<span id="cb52-26"><a href="analisis-de-series.html#cb52-26" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
## ℹ Please use `linewidth` instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<pre><code>## Warning: Removed 6 rows containing missing values or values outside the scale range
## (`geom_line()`).</code></pre>
<pre><code>## Warning: Removed 29 rows containing missing values or values outside the scale range
## (`geom_line()`).</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" width="100%" /></p>
<table>
<colgroup>
<col width="27%" />
<col width="72%" />
</colgroup>
<thead>
<tr class="header">
<th>Serie</th>
<th>Qué muestra</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>T (original)</td>
<td>fluctuaciones reales día a día (ruido)</td>
</tr>
<tr class="even">
<td>MA7</td>
<td>tendencia suave a corto plazo, reduce variabilidad semanal</td>
</tr>
<tr class="odd">
<td>MA30</td>
<td>tendencia general del clima, eliminando ruido de corto plazo</td>
</tr>
</tbody>
</table>
<p>Con el promedio móvil se observa que la serie de temperatura presenta fluctuaciones diarias importantes, pero mantiene una tendencia más clara cuando se suaviza con ventanas móviles de 7 y 30 días. La MA7 revela variaciones semanales, mientras que la MA30 permite ver la tendencia de fondo eliminando gran parte del ruido diario, facilitando la detección de ciclos y patrones a mayor escala.</p>
</div>
<div id="rezagos-lag-30-días" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Rezagos (Lag 30 días)<a href="analisis-de-series.html#rezagos-lag-30-d%C3%ADas" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="analisis-de-series.html#cb56-1" tabindex="-1"></a>daily<span class="sc">$</span>T_lag1 <span class="ot">&lt;-</span> <span class="fu">lag</span>(daily<span class="sc">$</span>T, <span class="dv">30</span>)</span>
<span id="cb56-2"><a href="analisis-de-series.html#cb56-2" tabindex="-1"></a></span>
<span id="cb56-3"><a href="analisis-de-series.html#cb56-3" tabindex="-1"></a><span class="fu">ggplot</span>(daily, <span class="fu">aes</span>(<span class="at">x =</span> date)) <span class="sc">+</span></span>
<span id="cb56-4"><a href="analisis-de-series.html#cb56-4" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> T, <span class="at">color =</span> <span class="st">&quot;Original&quot;</span>), <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb56-5"><a href="analisis-de-series.html#cb56-5" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> T_lag1, <span class="at">color =</span> <span class="st">&quot;Rezago (lag 30)&quot;</span>), <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">size =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb56-6"><a href="analisis-de-series.html#cb56-6" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Temperatura vs Rezago 30 días&quot;</span>) <span class="sc">+</span></span>
<span id="cb56-7"><a href="analisis-de-series.html#cb56-7" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Temperatura (°C)&quot;</span>) <span class="sc">+</span></span>
<span id="cb56-8"><a href="analisis-de-series.html#cb56-8" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Original&quot;</span> <span class="ot">=</span> <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;Rezago (lag 30)&quot;</span> <span class="ot">=</span> <span class="st">&quot;blue&quot;</span>)) <span class="sc">+</span></span>
<span id="cb56-9"><a href="analisis-de-series.html#cb56-9" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 months&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%b %Y&quot;</span>) <span class="sc">+</span></span>
<span id="cb56-10"><a href="analisis-de-series.html#cb56-10" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<pre><code>## Warning: Removed 30 rows containing missing values or values outside the scale range
## (`geom_line()`).</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-13-1.png" width="100%" /></p>
<p>La línea naranja representa los valores reales de temperatura día a día, mientras que la línea azul muestra la misma serie desplazada 30 días, es decir, con un rezago de un mes. Ambas curvas presentan un patrón estacional claro, con incrementos en verano y descensos en invierno. La similitud entre la serie original y su rezago confirma una fuerte dependencia temporal a 30 días, evidenciando autocorrelación en los datos. Este comportamiento indica que la temperatura sigue un patrón continuo y predecible a lo largo del tiempo, lo que es fundamental para entender su dinámica.</p>
</div>
<div id="descomposición-estacional" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Descomposición estacional<a href="analisis-de-series.html#descomposici%C3%B3n-estacional" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="analisis-de-series.html#cb58-1" tabindex="-1"></a>descomp <span class="ot">&lt;-</span> <span class="fu">decompose</span>(ts_T, <span class="at">type =</span> <span class="st">&quot;additive&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="analisis-de-series.html#cb59-1" tabindex="-1"></a><span class="fu">autoplot</span>(descomp) <span class="sc">+</span></span>
<span id="cb59-2"><a href="analisis-de-series.html#cb59-2" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb59-3"><a href="analisis-de-series.html#cb59-3" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Descomposición estacional aditiva (frecuencia semanal)&quot;</span>,</span>
<span id="cb59-4"><a href="analisis-de-series.html#cb59-4" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Semanas&quot;</span>,</span>
<span id="cb59-5"><a href="analisis-de-series.html#cb59-5" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Temperatura (°C)&quot;</span></span>
<span id="cb59-6"><a href="analisis-de-series.html#cb59-6" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-7"><a href="analisis-de-series.html#cb59-7" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb59-8"><a href="analisis-de-series.html#cb59-8" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">length</span>(ts_T), <span class="at">by =</span> <span class="dv">1</span>),           <span class="co"># cada semana</span></span>
<span id="cb59-9"><a href="analisis-de-series.html#cb59-9" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">length</span>(ts_T), <span class="at">by =</span> <span class="dv">1</span>)            <span class="co"># etiquetas semanales</span></span>
<span id="cb59-10"><a href="analisis-de-series.html#cb59-10" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb59-11"><a href="analisis-de-series.html#cb59-11" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb59-12"><a href="analisis-de-series.html#cb59-12" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>)    <span class="co"># tamaño más pequeño</span></span>
<span id="cb59-13"><a href="analisis-de-series.html#cb59-13" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## Scale for x is already present.
## Adding another scale for x, which will replace the existing scale.</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-15-1.png" width="100%" /></p>
<p>data → la serie original</p>
<p>trend → la tendencia a largo plazo</p>
<p>seasonal → los patrones que se repiten (por ejemplo, cada año o cada mes)</p>
<p>remainder → el ruido o variación aleatoria</p>
<p>La serie presenta un patrón estacional claro: las temperaturas aumentan progresivamente hacia los meses de verano y disminuyen en invierno, reflejando una tendencia anual marcada. La descomposición estacional aditiva permite separar tres componentes principales: la tendencia, que captura el aumento y disminución de la temperatura a lo largo del año; la estacionalidad, que refleja la repetición cíclica de estos comportamientos cada año; y el residuo, que presenta fluctuaciones pequeñas y sin patrón definido, indicando que la tendencia y la estacionalidad explican la mayor parte de la dinámica de la serie.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lectura-bd.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/USERNAME/REPO/edit/BRANCH/index.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["Weather-act2.pdf", "Weather-act2.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "section"
  }
});
});
</script>

</body>

</html>
